# 💻 IT设备资产管理系统 - 产品需求文档（PRD v1.0）

## 一、项目概述
面向500人以内的中小型IT创业公司，构建一个可实际生产使用的设备资产管理系统，用于统一管理公司员工与部门的IT设备、测试机与相关资产信息，实现设备全生命周期管理与智能化分析。

## 二、系统目标
- 建立标准化设备资产管理流程，降低人工管理成本。
- 提供清晰的设备归属、维修、回购与采购记录。
- 支持未来AI智能分析与自动化（如采购预测、异常检测）。
- 前期MVP以Web端（Chrome）运行，后期可扩展飞书/钉钉授权登录。

## 三、设备类型与范围
| 分类 | 示例 | 特点 |
|------|------|------|
| 员工测试机 | 手机、平板等 | 借用型资产，归还周期短，或长期归属为某一个人 |
| 员工设备 | 笔记本、台式机、手机 | 固定资产，长期归属员工 |
| 部门设备 | 公共电脑、显示器 | 多人共用，部门归属 |
| 员工资产 | 工作手机号、微信号 | 虚拟资产，可记录使用权 |

## 四、用户与权限模型
| 角色 | 权限说明 |
|------|----------|
| 普通员工 | 登录后查看自己名下设备、维修记录、确认资产状态，发起设备维修，不可发起设备采购 |
| 管理员 | 查看所有设备与记录，发起设备采购、维修、确认任务 |
| 系统超级管理员（未来扩展） | 账号管理、系统配置、导入导出、目前和管理员合并模型 |

### 登录与认证
- MVP阶段：管理员手动创建账号（账号+密码）
- 未来扩展：支持飞书/钉钉/企微 OAuth 登录
- 会话验证：JWT Token

## 五、核心功能模块

### 1️⃣ 设备信息管理
**主要功能：**
- 设备登记（设备编号、类型、品牌、型号、采购时间、采购价格、市场价格、使用者、部门、状态）
- 支持导入（Excel/CSV）与导出
- 自动生成唯一设备ID

**状态字段：**
- 正常使用 / 维修中 / 报废 / 已回购 / 已更换 / 待分配

### 2️⃣ 设备维修管理
**逻辑规则：**
- 员工可申请维修
- 管理员审批并更新状态
- 维修状态流转：申请维修 → 维修中 → 已维修待领取 → 已领取
- 首次维修免费，二次维修个人承担50%费用

**记录字段：**
- 维修单号
- 设备ID
- 报修人
- 故障描述
- 维修状态
- 维修费用及责任比例
- 完成时间

### 3️⃣ 回购与更换管理
| 类型 | 回购周期 | 回购价格 | 流程说明 |
|------|-----------|-----------|-----------|
| 笔记本 | 4年 | 100元 | 员工支付后旧设备归个人，公司购新设备 |
| 台式机 | 6年 | 100元 | 同上 |
| 其他设备 | 不可回购 | - | 可报废处理 |

**状态流转：**
可回购 → 员工申请 → 管理员审批 → 财务确认 → 采购新设备

### 4️⃣ 设备确认（年度审计）
- 每年管理员发起一次设备确认任务  
- 员工登录系统后需逐台点击“确认”  
- 未确认设备需提醒与跟踪  
- 确认记录入库：设备ID + 用户ID + 时间 + 状态

### 5️⃣ 设备采购管理
- 管理员可发起采购申请（类型、数量、预算、预计采购时间）
- 支持采购流程跟踪（待审批 / 采购中 / 已到货 / 已分配）
- 可视化展示部门设备总价值、未来采购预测（AI模块）

### 6️⃣ 仪表盘与数据分析
**仪表盘内容：**
- 维修中设备数量与人员分布
- 部门设备资产总额
- 按年采购预算 vs 实际
- 回购周期预测（AI可辅助预测明年采购量）

## 六、AI增强模块（可选）
| 模块 | 功能说明 |
|------|-----------|
| 1. 智能问答 | 支持自然语言查询，如“显示我名下的设备”、“哪些电脑超过4年？” |
| 2. AI采购预测 | 根据设备生命周期与使用年限预测未来采购需求 |
| 3. OCR识别 | 上传发票或设备序列号图片自动录入信息 |
| 4. 异常检测 | 检测异常维修频率或遗失风险设备 |
| 5. 智能报表生成 | 自动生成采购报告、资产统计表 |

## 八、未来可扩展方向
- 飞书、钉钉、企微同步（自动拉取员工信息并创建账号，通过飞书、钉钉、企微授权登录）
- 硬件自动扫描（通过序列号扫描枪或摄像头录入）
- 移动端轻应用（飞书/钉钉小程序）
- AI 助手：支持对话式查询设备状态与生成报表

## 九、MVP实现建议
| 阶段 | 功能范围 | 目标 |
|------|------------|------|
| Phase 1 | 登录 + 设备信息 + 维修管理 + 年度确认 | 快速上线内部可用版本 |
| Phase 2 | 仪表盘 + 采购 + 回购 + 数据统计 | 完善管理闭环 |
| Phase 3 | 飞书同步 + AI问答 + 智能预测 | 智能化增强与集成 |


# 🧩 十、表单设计方案（Feishu Bitable / Monday 风格）

## 一、主表与子表结构总览
| 模块 | 表单名称 | 类型 | 关联表 | 说明 |
|------|-----------|------|---------|------|
| 1️⃣ | 设备清单 | 主表 | 维修记录、回购记录、年度确认 | 存储所有设备基础信息 |
| 2️⃣ | 维修记录 | 子表 | 设备清单 | 员工发起维修申请后生成 |
| 3️⃣ | 回购记录 | 子表 | 设备清单、采购单 | 记录设备回购、更换过程 |
| 4️⃣ | 年度确认 | 子表 | 设备清单、用户表 | 管理员发起后员工确认设备状态 |
| 5️⃣ | 采购单 | 主表 | 回购记录、设备清单 | 设备采购审批与状态流转 |
| 6️⃣ | 用户表 | 主表 | 设备清单、年度确认 | 员工/管理员账号与权限 |
| 7️⃣ | 仪表盘视图 | 虚拟表 | 聚合前面表单 | 显示统计数据与预测分析（AI模块） |

---

## 二、各表单字段设计

### 🧾 1. 设备清单表
| 字段名 | 类型 | 示例 | 说明 |
|--------|------|------|------|
| 设备ID | 自动编号 | DEV-2025-0001 | 唯一标识 |
| 设备类型 | 下拉选项 | 笔记本 / 台式机 / 显示器 / 手机 / 平板 | 分类字段 |
| 品牌型号 | 文本 | MacBook Pro 14" M3 | 可自由录入 |
| 采购时间 | 日期 | 2023-06-10 | 设备购买日期 |
| 采购价格 | 数值 | 12800 | 实际采购价 |
| 市场价格 | 数值 | 13999 | 当前市场参考价 |
| 使用者 | 成员选择 | 张三 | 员工名 |
| 所属部门 | 下拉选项 | 技术部 / 产品部 / 测试部 | 可配置 |
| 状态 | 下拉选项 | 正常使用 / 维修中 / 已回购 / 报废 / 待分配 | 系统状态字段 |
| 是否可回购 | 公式或布尔 | TRUE | 根据设备类型判断 |
| 可回购时间 | 日期 | 2027-06-10 | 用于预测采购 |
| 最近维修时间 | 关联字段 | 自动取自维修记录 | — |
| 维修次数 | 数值 | 2 | 自动统计 |
| 使用年限 | 计算字段 | 1.5年 | 当前日期 - 采购时间 |
| 备注 | 多行文本 | — | 补充说明 |

---

### 🔧 2. 维修记录表
| 字段名 | 类型 | 示例 | 说明 |
|--------|------|------|------|
| 维修单号 | 自动编号 | FIX-2025-001 | 唯一编号 |
| 设备ID | 关联字段 | DEV-2025-0001 | 指向设备清单 |
| 报修人 | 成员选择 | 张三 | 员工本人 |
| 故障描述 | 多行文本 | 屏幕闪烁 | — |
| 维修状态 | 下拉 | 申请中 / 维修中 / 已维修待领取 / 已领取 | 状态流转字段 |
| 首次维修 | 布尔 | TRUE | 是否首次 |
| 维修费用 | 数值 | 300 | — |
| 公司承担比例 | 数值 | 50% | 自动根据规则计算 |
| 维修完成时间 | 日期 | 2025-03-21 | — |
| 审批人 | 成员选择 | 李四 | 管理员 |

---

### 🔁 3. 回购记录表
| 字段名 | 类型 | 示例 | 说明 |
|--------|------|------|------|
| 回购单号 | 自动编号 | BUYBACK-2025-001 | 唯一编号 |
| 设备ID | 关联字段 | DEV-2021-0200 | 指向设备清单 |
| 回购类型 | 下拉 | 笔记本 / 台式机 | 决定周期与金额 |
| 员工支付金额 | 数值 | 100 | 固定100元 |
| 审批状态 | 下拉 | 待审批 / 已通过 / 已拒绝 | — |
| 财务确认时间 | 日期 | 2025-04-01 | — |
| 新设备采购单号 | 关联字段 | PO-2025-001 | 与采购单表关联 |
| 备注 | 文本 | — | — |

---

### ✅ 4. 年度确认表
| 字段名 | 类型 | 示例 | 说明 |
|--------|------|------|------|
| 任务ID | 自动编号 | VERIFY-2025-001 | 年度任务编号 |
| 设备ID | 关联字段 | DEV-2024-0102 | — |
| 所属员工 | 成员 | 张三 | — |
| 确认状态 | 下拉 | 已确认 / 未确认 | — |
| 发起人 | 成员 | 管理员李四 | — |
| 发起时间 | 日期 | 2025-01-05 | — |
| 确认时间 | 日期 | 2025-01-10 | — |
| 备注 | 文本 | — | — |

---

### 💰 5. 采购单表
| 字段名 | 类型 | 示例 | 说明 |
|--------|------|------|------|
| 采购单号 | 自动编号 | PO-2025-001 | 唯一编号 |
| 采购类型 | 下拉 | 新购 / 替换 / 回购补充 | — |
| 申请人 | 成员 | 管理员李四 | — |
| 部门 | 下拉 | 技术部 | — |
| 设备类型 | 下拉 | 笔记本 / 显示器 / 手机 | — |
| 数量 | 数值 | 10 | — |
| 单价预算 | 数值 | 12000 | — |
| 总预算 | 计算字段 | =数量×单价预算 | — |
| 状态 | 下拉 | 待审批 / 采购中 / 已到货 / 已分配 | 流转状态 |
| 实际采购价格 | 数值 | 115000 | — |
| 预计到货时间 | 日期 | 2025-06-01 | — |
| 供应商 | 文本 | 京东企业购 | — |
| 备注 | 多行文本 | — | — |

---

### 👥 6. 用户表
| 字段名 | 类型 | 示例 | 说明 |
|--------|------|------|------|
| 用户ID | 自动编号 | U-2025-001 | — |
| 姓名 | 文本 | 张三 | — |
| 部门 | 下拉 | 技术部 | — |
| 职位 | 文本 | 后端工程师 | — |
| 角色 | 下拉 | 员工 / 管理员 | 权限控制 |
| 邮箱 | 文本 | zhangsan@company.com | 登录账号 |
| 登录状态 | 布尔 | TRUE | 是否启用 |
| 创建时间 | 日期 | 2025-01-01 | — |
| 上次登录 | 日期 | 2025-03-20 | — |

---

### 📊 7. 仪表盘视图（虚拟聚合）
**用于展示指标汇总与AI分析结果，可自动聚合以下内容：**
- 全公司设备数量与状态分布（饼图）
- 维修次数趋势（折线图）
- 部门资产价值排行（柱状图）
- 回购预测与采购建议（AI 模型输出）
- 异常设备检测（高维修频率或超期未确认）


### 技术实现
supabase实现


### 界面设计
- 请参考飞书多维表格或者monday进行界面设计